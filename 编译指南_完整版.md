# APK 编译完整指南

## 当前情况

你的系统目前**没有安装 Java 和 Gradle**，无法直接编译。需要先安装编译环境。

## 推荐方案：使用 Android Studio（最简单）

### 为什么推荐 Android Studio？

✅ **一键安装** - 自动安装 JDK、Android SDK、Gradle  
✅ **图形界面** - 操作简单，无需命令行  
✅ **自动配置** - 自动处理所有依赖和配置  
✅ **官方工具** - Google 官方推荐

### 安装步骤

1. **下载 Android Studio**
   - 访问：https://developer.android.com/studio
   - 点击 "Download Android Studio"
   - 下载约 1GB

2. **安装 Android Studio**
   - 运行安装程序
   - 选择 "Standard" 安装（推荐）
   - 等待安装完成（约 10-20 分钟）

3. **打开项目**
   - 启动 Android Studio
   - 选择 "Open" 或 "File" -> "Open"
   - 选择 `LSPosedAppInstallTime` 文件夹
   - 等待 Gradle 同步（首次可能需要几分钟）

4. **编译 APK**
   - 点击菜单 "Build" -> "Build Bundle(s) / APK(s)" -> "Build APK(s)"
   - 等待编译完成
   - 点击通知中的 "locate" 查看 APK
   - APK 位置：`app/build/outputs/apk/debug/app-debug.apk`

5. **安装 APK**
   - 将 APK 传输到 Android 设备
   - 安装 APK

## 替代方案

### 方案二：手动安装工具（较复杂）

如果需要使用命令行编译：

1. **安装 Java JDK**
   - 下载：https://adoptium.net/
   - 安装 JDK 17 或更高版本
   - 设置环境变量 `JAVA_HOME`

2. **安装 Android SDK**
   - 下载 Command Line Tools：https://developer.android.com/studio#command-tools
   - 解压并设置 `ANDROID_HOME`

3. **使用 Gradle Wrapper 编译**
   ```bash
   cd LSPosedAppInstallTime
   .\gradlew.bat assembleDebug
   ```

### 方案三：在线编译

1. **GitHub Codespaces**
   - 上传项目到 GitHub
   - 使用 Codespaces 在线编译

2. **Gitpod**
   - 访问：https://gitpod.io/
   - 在线编译

## 快速检查清单

编译前需要：
- [ ] Java JDK（Android Studio 会自动安装）
- [ ] Android SDK（Android Studio 会自动安装）
- [ ] Gradle（Android Studio 会自动安装）
- [ ] 网络连接（下载依赖）

## 编译后

编译成功后会生成：
- `app-debug.apk` - 可以直接安装的 APK

## 如果遇到问题

### 问题：Gradle 同步失败

**解决**：
1. 检查网络连接
2. 在 Android Studio 中：File -> Invalidate Caches / Restart
3. 重新同步项目

### 问题：找不到 SDK

**解决**：
1. File -> Project Structure
2. 设置 Android SDK 路径
3. 或让 Android Studio 自动下载

### 问题：依赖下载失败

**解决**：
1. 检查网络
2. 可能需要代理
3. 或手动下载依赖

## 推荐操作

**最推荐**：安装 Android Studio
- 时间：约 30 分钟（下载+安装）
- 难度：简单
- 后续：可以轻松编译任何 Android 项目

**最快**：如果有朋友有 Android Studio
- 让他帮忙编译
- 只需要几分钟

## 项目文件说明

所有必需文件已创建：
- ✅ `MainHook.java` - Hook 实现
- ✅ `AndroidManifest.xml` - 模块声明
- ✅ `build.gradle` - 构建配置
- ✅ `gradlew.bat` - Gradle Wrapper（需要先下载 Gradle）

## 下一步

1. **安装 Android Studio**（推荐）
2. **或**找有 Android Studio 的朋友帮忙编译
3. **或**使用在线编译服务

安装好 Android Studio 后，打开项目，点击 Build -> Build APK 即可！
