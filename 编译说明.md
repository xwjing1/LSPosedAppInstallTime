# APK 编译说明

## 方法一：使用 Android Studio（推荐，最简单）

### 1. 安装 Android Studio

1. 下载 Android Studio：https://developer.android.com/studio
2. 安装 Android Studio（会自动安装 JDK、Android SDK、Gradle）

### 2. 打开项目

1. 打开 Android Studio
2. 选择 "Open" 或 "File" -> "Open"
3. 选择 `LSPosedAppInstallTime` 文件夹
4. 等待 Gradle 同步完成（首次可能需要几分钟）

### 3. 编译 APK

1. 点击菜单 "Build" -> "Build Bundle(s) / APK(s)" -> "Build APK(s)"
2. 等待编译完成
3. 编译完成后会显示通知，点击 "locate" 查看 APK
4. APK 位置：`app/build/outputs/apk/debug/app-debug.apk`

### 4. 安装 APK

将 `app-debug.apk` 传输到 Android 设备并安装。

---

## 方法二：使用命令行（需要先安装工具）

### 1. 安装必要工具

#### 安装 Java JDK

1. 下载 JDK 17 或更高版本：https://adoptium.net/
2. 安装 JDK
3. 设置环境变量 `JAVA_HOME`

#### 安装 Android SDK

1. 下载 Android SDK Command Line Tools：https://developer.android.com/studio#command-tools
2. 解压到某个目录（如 `C:\Android\sdk`）
3. 设置环境变量 `ANDROID_HOME`

#### 安装 Gradle（可选，可以使用 Gradle Wrapper）

1. 下载 Gradle：https://gradle.org/releases/
2. 解压并设置环境变量

### 2. 使用 Gradle Wrapper 编译

```bash
cd LSPosedAppInstallTime
.\gradlew.bat assembleDebug
```

### 3. 找到 APK

编译完成后，APK 在：
```
app/build/outputs/apk/debug/app-debug.apk
```

---

## 方法三：在线编译（无需安装工具）

### 使用 GitHub Actions（如果有 GitHub 账号）

1. 将项目上传到 GitHub
2. 创建 GitHub Actions workflow
3. 自动编译并下载 APK

### 使用在线编译服务

- GitHub Codespaces
- Gitpod
- 其他在线 IDE

---

## 方法四：使用预编译脚本（如果已安装 Android Studio）

创建一个批处理文件 `build.bat`：

```batch
@echo off
cd /d %~dp0
call gradlew.bat assembleDebug
if %ERRORLEVEL% equ 0 (
    echo.
    echo 编译成功！
    echo APK 位置: app\build\outputs\apk\debug\app-debug.apk
) else (
    echo.
    echo 编译失败，请检查错误信息
)
pause
```

---

## 常见问题

### Q: 编译时提示找不到 SDK？

A: 
1. 在 Android Studio 中打开项目
2. 点击 "File" -> "Project Structure"
3. 设置 Android SDK 路径

### Q: 编译时提示找不到依赖？

A: 
1. 确保网络连接正常
2. 在 Android Studio 中点击 "File" -> "Sync Project with Gradle Files"
3. 或运行：`.\gradlew.bat --refresh-dependencies`

### Q: 编译失败，提示版本不兼容？

A: 
1. 确保 Android Studio 是最新版本
2. 更新 `build.gradle` 中的版本号
3. 更新 Gradle 版本

### Q: 没有 Android Studio，有其他方法吗？

A: 
1. 使用在线编译服务
2. 或找有 Android Studio 的朋友帮忙编译
3. 或使用虚拟机安装 Android Studio

---

## 推荐方案

**最简单**：使用 Android Studio
- 一键安装所有工具
- 图形界面，易于操作
- 自动处理依赖

**最快**：如果已有 Android Studio
- 直接打开项目
- 点击 Build 即可

---

## 编译后的文件

编译成功后，会生成：
- `app-debug.apk` - 调试版 APK（可以直接安装）
- `app-release.apk` - 发布版 APK（需要签名，可选）

安装 `app-debug.apk` 即可。
